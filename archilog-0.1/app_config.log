2025-04-10 20:02:41,294 [DEBUG] Chargement de la configuration - DATABASE_URL: sqlite:///data.db, DEBUG: True
2025-04-10 20:02:41,294 [DEBUG] Valeur de DEBUG après conversion : False
2025-04-10 20:02:41,295 [INFO] Configuration chargée : Config(DATABASE_URL='sqlite:///data.db', DEBUG=True, SECRET_KEY='une_super_cle_secrete')
2025-04-10 20:02:41,298 [DEBUG] Chargement de la configuration - DATABASE_URL: sqlite:///data.db, DEBUG: True
2025-04-10 20:02:41,298 [DEBUG] Valeur de DEBUG après conversion : False
2025-04-10 20:02:41,299 [INFO] Configuration chargée : Config(DATABASE_URL='sqlite:///data.db', DEBUG=True, SECRET_KEY='une_super_cle_secrete')
2025-04-10 20:02:42,252 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-04-10 20:02:42,253 [INFO] [33mPress CTRL+C to quit[0m
2025-04-10 20:02:51,372 [INFO] 127.0.0.1 - - [10/Apr/2025 20:02:51] "[31m[1mGET / HTTP/1.1[0m" 401 -
2025-04-10 20:03:01,921 [INFO] 127.0.0.1 - - [10/Apr/2025 20:03:01] "GET / HTTP/1.1" 200 -
2025-04-10 20:03:03,257 [INFO] 127.0.0.1 - - [10/Apr/2025 20:03:03] "GET /add_entry HTTP/1.1" 200 -
2025-04-10 20:03:09,217 [INFO] BEGIN (implicit)
2025-04-10 20:03:09,217 [INFO] INSERT INTO profile (id, name, amount, category) VALUES (?, ?, ?, ?)
2025-04-10 20:03:09,217 [INFO] [generated in 0.00092s] ('ae640701d4f94c1b8fc4c9436ba6c326', 'jnj', 77.0, '')
2025-04-10 20:03:09,218 [INFO] ROLLBACK
2025-04-10 20:03:09,218 [ERROR] Exception on /add_entry [POST]
Traceback (most recent call last):
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: profile

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\flask_httpauth.py", line 174, in decorated
    return self.ensure_sync(f)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\src\archilog\views\web_ui.py", line 69, in add_entry
    models.create_entry(name, amount, category)  # Appel à la méthode add_entry du modèle
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\src\archilog\models.py", line 57, in create_entry
    conn.execute(stmt)
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\archi\archilogtp\archilog-0.1\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: profile
[SQL: INSERT INTO profile (id, name, amount, category) VALUES (?, ?, ?, ?)]
[parameters: ('ae640701d4f94c1b8fc4c9436ba6c326', 'jnj', 77.0, '')]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-04-10 20:03:09,310 [INFO] 127.0.0.1 - - [10/Apr/2025 20:03:09] "[35m[1mPOST /add_entry HTTP/1.1[0m" 500 -
2025-04-10 20:03:23,687 [DEBUG] Chargement de la configuration - DATABASE_URL: sqlite:///data.db, DEBUG: True
2025-04-10 20:03:23,688 [DEBUG] Valeur de DEBUG après conversion : False
2025-04-10 20:03:23,688 [INFO] Configuration chargée : Config(DATABASE_URL='sqlite:///data.db', DEBUG=True, SECRET_KEY='une_super_cle_secrete')
2025-04-10 20:03:23,974 [DEBUG] Chargement de la configuration - DATABASE_URL: sqlite:///data.db, DEBUG: True
2025-04-10 20:03:23,974 [DEBUG] Valeur de DEBUG après conversion : False
2025-04-10 20:03:23,975 [INFO] Configuration chargée : Config(DATABASE_URL='sqlite:///data.db', DEBUG=True, SECRET_KEY='une_super_cle_secrete')
2025-04-10 20:03:24,933 [INFO] BEGIN (implicit)
2025-04-10 20:03:24,934 [INFO] INSERT INTO profile (id, name, amount, category) VALUES (?, ?, ?, ?)
2025-04-10 20:03:24,934 [INFO] [generated in 0.00062s] ('a407b66bef384540b7196691d61d1c4a', 'Alice', 200.0, 'Finance')
2025-04-10 20:03:24,935 [INFO] ROLLBACK
2025-04-10 20:03:46,417 [DEBUG] Chargement de la configuration - DATABASE_URL: sqlite:///data.db, DEBUG: True
2025-04-10 20:03:46,435 [DEBUG] Valeur de DEBUG après conversion : False
2025-04-10 20:03:46,435 [INFO] Configuration chargée : Config(DATABASE_URL='sqlite:///data.db', DEBUG=True, SECRET_KEY='une_super_cle_secrete')
2025-04-10 20:03:46,699 [DEBUG] Chargement de la configuration - DATABASE_URL: sqlite:///data.db, DEBUG: True
2025-04-10 20:03:46,700 [DEBUG] Valeur de DEBUG après conversion : False
2025-04-10 20:03:46,700 [INFO] Configuration chargée : Config(DATABASE_URL='sqlite:///data.db', DEBUG=True, SECRET_KEY='une_super_cle_secrete')
2025-04-10 20:03:47,660 [INFO] BEGIN (implicit)
2025-04-10 20:03:47,661 [INFO] PRAGMA main.table_info("profile")
2025-04-10 20:03:47,661 [INFO] [raw sql] ()
2025-04-10 20:03:47,662 [INFO] PRAGMA temp.table_info("profile")
2025-04-10 20:03:47,662 [INFO] [raw sql] ()
2025-04-10 20:03:47,663 [INFO] 
CREATE TABLE profile (
	id VARCHAR NOT NULL, 
	name VARCHAR, 
	amount FLOAT, 
	category VARCHAR, 
	PRIMARY KEY (id)
)


2025-04-10 20:03:47,663 [INFO] [no key 0.00025s] ()
2025-04-10 20:03:47,688 [INFO] COMMIT
